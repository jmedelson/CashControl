(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{383:function(e,t,n){"use strict";n.r(t);n(49),n(8),n(35),n(57),n(46),n(24),n(13),n(58),n(72),n(47);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var r={name:"IndexPage",data:function(){return{loading:!0,connection:null,connected:!1,gameConnected:!1,chatbotConnected:!1,chatScene:!1,computedScene:null,gridInteval:5,gridDuration:30,chaos:!1,computedMode:null,maxPlayers:1e3,refill:280}},computed:{sceneParse:function(){return this.chatScene?"Chat Game":"Grid Game"},gameMode:function(){return this.chaos?"Chaos Mode":"Democracy Mode"}},created:function(){console.log("Starting connection to WebSocket Server"),this.connect(),this.computedScene=this.sceneParse,this.computedMode=this.gameMode},methods:{websocket:function(){this.connected?this.connect():this.disconnect()},settingChange:function(){this.computedScene=this.sceneParse,this.computedMode=this.gameMode;var e={scene:this.chatScene,chaos:this.chaos,interval:this.gridInteval,duration:this.gridDuration,maxPlayers:this.maxPlayers,refill:this.refill};this.sendServer({action:"message",header:"setSetting",data:e})},sendServer:function(e){console.log("Sending Message: ",e),this.connection.send(JSON.stringify(e))},connectionUpdata:function(data){this.gameConnected=!1,this.chatbotConnected=!1;var e,t=o(data);try{for(t.s();!(e=t.n()).done;){var n=e.value;"game"===n.type?this.gameConnected=!0:"chatbot"===n.type&&(this.chatbotConnected=!0)}}catch(e){t.e(e)}finally{t.f()}},settingsUpdate:function(data){console.log("settings"),console.log(data),this.chatScene=data.chatScene,this.gridDuration=data.gridDuration,this.gridInteval=data.gridInterval,this.chaos=data.chaosMode,this.maxPlayers=data.maxPlayers,this.refill=data.refill},checkMessage:function(data){"connectionUpdate"===data.header?this.connectionUpdata(data.data):"gameSettings"===data.header&&(this.settingsUpdate(data.data),this.loading=!1)},connect:function(){this.connected=!0,this.connection=new WebSocket("wss://lhek8s2pxc.execute-api.us-east-2.amazonaws.com/dev?app=helper"),this.connection.onopen=function(e){console.log(e),console.log("Successfully connected to the AWS websocket server..."),this.sendServer({action:"message",header:"getConnections"}),this.sendServer({action:"message",header:"gameSettings"})}.bind(this),this.connection.onmessage=function(e){console.log(e.data),this.checkMessage(JSON.parse(e.data))}.bind(this),this.connection.onclose=function(e){console.log("Disconnected from websocket server..."),this.connected=!1,this.gameConnected=!1,this.chatbotConnected=!1}.bind(this)},disconnect:function(){this.connection.close()}}},l=n(80),d=n(129),h=n.n(d),m=n(327),v=n(380),f=n(159),S=n(381),y=n(385),C=n(382),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[e.loading?n("div",{staticClass:"mt-5"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"#32CD32",size:400,width:20}})],1):n("div",[n("h1",[e._v("Connections")]),e._v(" "),n("v-switch",{attrs:{label:"AWS Websocket Connected: "+e.connected.toString()},on:{change:e.websocket},model:{value:e.connected,callback:function(t){e.connected=t},expression:"connected"}}),e._v(" "),n("v-switch",{attrs:{disabled:"",label:"Game Connected: "+e.gameConnected.toString()},model:{value:e.gameConnected,callback:function(t){e.gameConnected=t},expression:"gameConnected"}}),e._v(" "),n("h1",[e._v("Game Settings")]),e._v(" "),n("v-switch",{attrs:{label:"Current Scene: "+e.computedScene},on:{change:e.settingChange},model:{value:e.chatScene,callback:function(t){e.chatScene=t},expression:"chatScene"}}),e._v(" "),e.chatScene?n("div",[n("h1",[e._v("Chat Royale")]),e._v(" "),n("v-text-field",{attrs:{label:"Max Players",placeholder:"Max Players",outlined:"",type:"number"},on:{change:e.settingChange},model:{value:e.maxPlayers,callback:function(t){e.maxPlayers=t},expression:"maxPlayers"}}),e._v(" "),n("v-text-field",{attrs:{label:"Refill Player Line",placeholder:"Refill Player Line",outlined:"",type:"number"},on:{change:e.settingChange},model:{value:e.refill,callback:function(t){e.refill=t},expression:"refill"}}),e._v(" "),n("v-btn",{staticClass:"mr-5",attrs:{color:"success"},on:{click:function(t){return e.sendServer({action:"message",header:"startRoyale"})}}},[e._v("\n          Start Chat Royale\n        ")])],1):n("div",[n("h1",[e._v("Grid Game")]),e._v(" "),n("v-switch",{attrs:{label:"Game Mode: "+e.computedMode},on:{change:e.settingChange},model:{value:e.chaos,callback:function(t){e.chaos=t},expression:"chaos"}}),e._v(" "),n("v-text-field",{attrs:{label:"Grid Duration",placeholder:"Grid Duration",outlined:"",type:"number"},on:{change:e.settingChange},model:{value:e.gridDuration,callback:function(t){e.gridDuration=t},expression:"gridDuration"}}),e._v(" "),n("v-text-field",{attrs:{label:"Grid Interval",placeholder:"Grid Interval",outlined:"",type:"number"},on:{change:e.settingChange},model:{value:e.gridInteval,callback:function(t){e.gridInteval=t},expression:"gridInteval"}}),e._v(" "),n("v-btn",{staticClass:"mr-5",attrs:{color:"success"},on:{click:function(t){return e.sendServer({action:"message",header:"startGrid"})}}},[e._v("\n          Start Game\n        ")]),e._v(" "),n("v-btn",{staticClass:"ml-5",attrs:{color:"error"},on:{click:function(t){return e.sendServer({action:"message",header:"resetGrid"})}}},[e._v("\n          Reset\n        ")])],1)],1)])],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:m.a,VCol:v.a,VProgressCircular:f.a,VRow:S.a,VSwitch:y.a,VTextField:C.a})}}]);